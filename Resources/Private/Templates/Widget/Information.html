<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" xmlns:core="http://typo3.org/ns/TYPO3/CMS/Core/ViewHelpers" xmlns:be="http://typo3.org/ns/TYPO3/CMS/Backend/ViewHelpers" data-namespace-typo3-fluid="true">
<f:layout name="Widget/Widget" />
<f:section name="main">
	<f:if condition="{hasAccess}">
		<f:then>
			<div class="row">
				<div class="col-sm-2">
					<f:image class="img-responsive" src="EXT:jira_service_desk/Resources/Public/Icons/toolbar-icon.svg" width="92" height="92" />
				</div>
				<div class="col-sm-5">
					<p><strong><f:translate id="widgets.information.label.projectName" extensionName="jira_service_desk" /></strong><br>{serviceDesk.projectName}</p>
					<p><strong><f:translate id="widgets.information.label.projectKey" extensionName="jira_service_desk" /></strong><br>{serviceDesk.projectKey}</p>
					<p><strong><f:translate id="widgets.information.label.projectId" extensionName="jira_service_desk" /></strong><br>{serviceDesk.projectId}</p>
				</div>
				<div class="col-sm-5">
					<p><f:format.raw><f:translate key="toolbarItem.requests.count" extensionName="jira_service_desk" arguments="{0: requests.size}"/></f:format.raw></p>
					<f:if condition="{requestCounts}">
						<f:for each="{requestCounts}" as="count" key="name">
							<div class="dropdown-table-row">
								<div class="dropdown-table-column dropdown-table-column-top dropdown-table-title">
									<span class="dropdown-text {f:if(condition: '{name} == \'Offen\'', then: ' text-default')}{f:if(condition: '{name} == \'Laufende Arbeiten\'', then: ' text-warning')}{f:if(condition: '{name} == \'Wartet auf Kunden\'', then: ' text-danger')}{f:if(condition: '{name} == \'Fertig\'', then: ' text-success')}">{name}</span>
								</div>
								<div class="dropdown-table-column dropdown-table-column-top dropdown-table-value ">
									{count}
								</div>
							</div>
						</f:for>
					</f:if>
				</div>
			</div>
			<hr>
			<div class="row">
				<div class="col-sm-12">
					<div class="btn-group btn-group-justified">
						<a class="btn btn-default" href="{be:moduleLink(route: 'help_JiraServiceDeskJira', arguments: {tx_jiraservicedesk_help_jiraservicedeskjira: {action: 'index'}})}" title="{f:translate(key: 'toolbarItem.serviceDesk.index.description', extensionName: 'jira_service_desk')}">
							<core:icon identifier="apps-toolbar-menu-service-desk" size="small" alternativeMarkupIdentifier="inline"/>
							<div class="text-ellipsis">
								<f:translate key="toolbarItem.serviceDesk.index.title" extensionName="jira_service_desk" />
								<br>
								<small class="text-muted"><f:translate key="toolbarItem.serviceDesk.index.description" extensionName="jira_service_desk" /></small>
							</div>
						</a>
						<a class="btn btn-default" href="{be:moduleLink(route: 'help_JiraServiceDeskJira', arguments: {tx_jiraservicedesk_help_jiraservicedeskjira: {action: 'list'}})}" title="{f:translate(key: 'toolbarItem.serviceDesk.requests.description', extensionName: 'jira_service_desk')}">
							<core:icon identifier="apps-toolbar-menu-systeminformation" size="small" alternativeMarkupIdentifier="inline"/>
							<div class="text-ellipsis">
								<f:translate key="toolbarItem.serviceDesk.requests.title" extensionName="jira_service_desk" />
								<br>
								<small class="text-muted"><f:translate key="toolbarItem.serviceDesk.requests.description" extensionName="jira_service_desk" /></small>
							</div>
						</a>
						<a class="btn btn-default" href="{be:moduleLink(route: 'help_JiraServiceDeskJira', arguments: {tx_jiraservicedesk_help_jiraservicedeskjira: {action: 'help'}})}" title="{f:translate(key: 'toolbarItem.serviceDesk.help.description', extensionName: 'jira_service_desk')}">
							<core:icon identifier="apps-toolbar-menu-help" size="small" alternativeMarkupIdentifier="inline"/>
							<div class="text-ellipsis">
								<f:translate key="toolbarItem.serviceDesk.help.title" extensionName="jira_service_desk" />
								<br>
								<small class="text-muted"><f:translate key="toolbarItem.serviceDesk.help.description" extensionName="jira_service_desk" /></small>
							</div>
						</a>
					</div>
				</div>
			</div>
		</f:then>
		<f:else>
			<p><f:format.raw><f:translate key="message.noAccess" extensionName="jira_service_desk" /></f:format.raw></p>
		</f:else>
	</f:if>
</f:section>
<f:section name="footer">
	<f:if condition="{hasAccess}">
		<f:render partial="Widget/Button" arguments="{button: button}"/>
	</f:if>
</f:section>
</html>
